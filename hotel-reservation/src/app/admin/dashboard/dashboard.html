<div class="dashboard-container animate-fade-in">
    <!-- Stats Cards -->
    <div class="stats-grid">
        <mat-card class="stat-card">
            <mat-card-content>
                <div class="stat-icon-wrapper">
                    <mat-icon inline style="font-size: 2rem;">business</mat-icon>
                </div>
                <div class="stat-info">
                    <h3>Total Hotels</h3>
                    <p class="stat-value">{{ isLoading ? '...' : stats.totalHotels }}</p>
                </div>
            </mat-card-content>
        </mat-card>
        <mat-card class="stat-card">
            <mat-card-content>
                <div class="stat-icon-wrapper">
                    <mat-icon inline style="font-size: 2rem;">meeting_room</mat-icon>
                </div>
                <div class="stat-info">
                    <h3>Total Rooms</h3>
                    <p class="stat-value">{{ isLoading ? '...' : stats.totalRooms }}</p>
                </div>
            </mat-card-content>
        </mat-card>
        <mat-card class="stat-card">
            <mat-card-content>
                <div class="stat-icon-wrapper">
                    <mat-icon inline style="font-size: 2rem;">calendar_today</mat-icon>
                </div>
                <div class="stat-info">
                    <h3>Active Bookings</h3>
                    <p class="stat-value">{{ isLoading ? '...' : stats.activeBookings }}</p>
                </div>
            </mat-card-content>
        </mat-card>
        <mat-card class="stat-card">
            <mat-card-content>
                <div class="stat-icon-wrapper">
                    <mat-icon inline style="font-size: 2rem;">attach_money</mat-icon>
                </div>
                <div class="stat-info">
                    <h3>Revenue</h3>
                    <p class="stat-value">{{ isLoading ? '...' : (stats.totalRevenue | currency) }}</p>
                </div>
            </mat-card-content>
        </mat-card>
    </div>



    <!-- Quick Actions & Recent Activity -->
    <div class="dashboard-grid">
        <mat-card class="recent-activity">
            <mat-card-header>
                <mat-card-title>Recent Bookings</mat-card-title>
            </mat-card-header>
            <mat-card-content>
                <mat-list *ngIf="!isLoading && recentReservations.length > 0">
                    <mat-list-item *ngFor="let res of recentReservations">
                        <mat-icon matListItemIcon
                            [class.confirmed]="res.status === 'Confirmed' || res.status === 'CheckedIn'"
                            [class.pending]="res.status === 'Pending'">
                            {{ (res.status === 'Confirmed' || res.status === 'CheckedIn') ? 'check_circle' :
                            'hourglass_empty' }}
                        </mat-icon>
                        <span matListItemTitle>#{{ res.reservationNumber }} - {{ res.userName }}</span>
                        <span matListItemLine>{{ res.checkInDate | date:'mediumDate' }} ({{ res.hotelName }})</span>
                        <span matListItemMeta>{{ res.totalAmount | currency }}</span>
                    </mat-list-item>
                </mat-list>

                <div *ngIf="!isLoading && recentReservations.length === 0" class="text-muted text-center p-3">
                    No recent bookings found.
                </div>
                <div *ngIf="isLoading" class="p-3 text-center">
                    <mat-spinner diameter="30" class="mx-auto"></mat-spinner>
                </div>
            </mat-card-content>
        </mat-card>

        <mat-card class="quick-actions">
            <mat-card-header>
                <mat-card-title>Quick Actions</mat-card-title>
            </mat-card-header>
            <mat-card-content class="action-buttons">
                <button mat-raised-button color="primary" routerLink="/admin/hotels/new" class="w-100 mb-2">
                    <mat-icon>add</mat-icon> Add New Hotel
                </button>
                <button mat-raised-button color="primary" routerLink="/admin/rooms/new" class="w-100 mb-2">
                    <mat-icon>add</mat-icon> Add New Room
                </button>
            </mat-card-content>
        </mat-card>
    </div>
</div>